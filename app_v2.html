<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#667eea">
    <title>Style Mate - Your AI Fashion Assistant</title>
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icon-192.png">
    
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        :root {
            --primary: #667eea;
            --primary-dark: #5a67d8;
            --secondary: #764ba2;
            --accent: #f093fb;
            --success: #48bb78;
            --warning: #ed8936;
            --danger: #f56565;
            --dark: #2d3748;
            --gray: #718096;
            --light: #f7fafc;
            --white: #ffffff;
            
            --gradient-primary: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --gradient-success: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
            --gradient-warm: linear-gradient(135deg, #fa709a 0%, #fee140 100%);
            --gradient-cool: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            
            --shadow-sm: 0 2px 4px rgba(0,0,0,0.05);
            --shadow-md: 0 4px 6px rgba(0,0,0,0.07);
            --shadow-lg: 0 10px 15px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 25px rgba(0,0,0,0.1);
            
            --animation-speed: 0.3s;
            --animation-bounce: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }
        
        body {
            font-family: 'Poppins', -apple-system, BlinkMacSystemFont, sans-serif;
            background: var(--light);
            color: var(--dark);
            overflow-x: hidden;
            position: relative;
            min-height: 100vh;
        }
        
        /* Animated Background */
        .animated-bg {
            position: fixed;
            width: 100%;
            height: 100%;
            top: 0;
            left: 0;
            z-index: -1;
            opacity: 0.3;
            background: linear-gradient(45deg, #667eea, #764ba2, #f093fb, #667eea);
            background-size: 400% 400%;
            animation: gradientShift 15s ease infinite;
        }
        
        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Floating Particles */
        .particle {
            position: fixed;
            pointer-events: none;
            opacity: 0.1;
            animation: float 20s infinite;
        }
        
        @keyframes float {
            0%, 100% {
                transform: translateY(0) translateX(0) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 0.1;
            }
            90% {
                opacity: 0.1;
            }
            100% {
                transform: translateY(-100vh) translateX(100px) rotate(720deg);
                opacity: 0;
            }
        }
        
        /* App Container */
        .app-container {
            max-width: 480px;
            margin: 0 auto;
            min-height: 100vh;
            background: var(--white);
            position: relative;
            box-shadow: 0 0 40px rgba(0,0,0,0.1);
        }
        
        /* Header */
        .app-header {
            background: var(--gradient-primary);
            padding: env(safe-area-inset-top) 0 0 0;
            position: sticky;
            top: 0;
            z-index: 100;
            backdrop-filter: blur(10px);
            animation: slideDown 0.5s ease;
        }
        
        @keyframes slideDown {
            from {
                transform: translateY(-100%);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 20px;
        }
        
        .logo-section {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo {
            width: 40px;
            height: 40px;
            background: var(--white);
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5em;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0.7);
            }
            50% {
                transform: scale(1.05);
                box-shadow: 0 0 0 10px rgba(255, 255, 255, 0);
            }
            100% {
                transform: scale(1);
                box-shadow: 0 0 0 0 rgba(255, 255, 255, 0);
            }
        }
        
        .app-title {
            color: var(--white);
            font-size: 1.3em;
            font-weight: 600;
            letter-spacing: -0.5px;
        }
        
        .header-actions {
            display: flex;
            gap: 10px;
        }
        
        .header-btn {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.2);
            border: none;
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2em;
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            backdrop-filter: blur(10px);
        }
        
        .header-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            transform: scale(1.1);
        }
        
        .header-btn:active {
            transform: scale(0.95);
        }
        
        /* Navigation */
        .nav-container {
            background: var(--white);
            padding: 10px;
            box-shadow: var(--shadow-md);
            position: sticky;
            top: 71px;
            z-index: 90;
        }
        
        .nav-tabs {
            display: flex;
            gap: 10px;
            padding: 5px;
            background: var(--light);
            border-radius: 15px;
        }
        
        .nav-tab {
            flex: 1;
            padding: 12px;
            background: transparent;
            border: none;
            border-radius: 10px;
            color: var(--gray);
            font-weight: 500;
            font-size: 0.9em;
            cursor: pointer;
            transition: all var(--animation-speed) var(--animation-bounce);
            position: relative;
            overflow: hidden;
        }
        
        .nav-tab::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: var(--gradient-primary);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .nav-tab.active::before {
            width: 100%;
            height: 100%;
        }
        
        .nav-tab.active {
            background: var(--gradient-primary);
            color: var(--white);
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }
        
        .nav-tab:not(.active):hover {
            background: rgba(102, 126, 234, 0.1);
            transform: scale(1.02);
        }
        
        .nav-icon {
            display: block;
            font-size: 1.3em;
            margin-bottom: 4px;
        }
        
        /* Content Area */
        .content {
            padding: 20px;
            padding-bottom: 100px;
            animation: fadeIn 0.5s ease;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
            animation: slideIn 0.4s var(--animation-bounce);
        }
        
        @keyframes slideIn {
            from {
                opacity: 0;
                transform: translateX(30px);
            }
            to {
                opacity: 1;
                transform: translateX(0);
            }
        }
        
        /* Cards */
        .card {
            background: var(--white);
            border-radius: 20px;
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow-lg);
            transition: all var(--animation-speed) ease;
            position: relative;
            overflow: hidden;
        }
        
        .card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -50%;
            width: 200%;
            height: 200%;
            background: var(--gradient-primary);
            opacity: 0;
            border-radius: 50%;
            transition: opacity 0.3s ease;
            pointer-events: none;
        }
        
        .card:hover::before {
            opacity: 0.05;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-xl);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .card-title {
            font-size: 1.2em;
            font-weight: 600;
            color: var(--dark);
        }
        
        .card-badge {
            padding: 6px 12px;
            background: var(--gradient-primary);
            color: var(--white);
            border-radius: 20px;
            font-size: 0.85em;
            font-weight: 500;
            animation: glow 2s infinite;
        }
        
        @keyframes glow {
            0%, 100% {
                box-shadow: 0 0 5px rgba(102, 126, 234, 0.5);
            }
            50% {
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.8);
            }
        }
        
        /* Upload Area */
        .upload-area {
            background: var(--gradient-primary);
            border-radius: 20px;
            padding: 40px;
            text-align: center;
            color: var(--white);
            position: relative;
            overflow: hidden;
            cursor: pointer;
            transition: all var(--animation-speed) ease;
        }
        
        .upload-area::after {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 120%;
            height: 120%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            transform: translate(-50%, -50%);
            animation: ripple 3s infinite;
        }
        
        @keyframes ripple {
            0% {
                transform: translate(-50%, -50%) scale(0.8);
                opacity: 1;
            }
            100% {
                transform: translate(-50%, -50%) scale(1.5);
                opacity: 0;
            }
        }
        
        .upload-area:hover {
            transform: scale(1.02);
            box-shadow: var(--shadow-xl);
        }
        
        .upload-icon {
            font-size: 3em;
            margin-bottom: 15px;
            animation: bounce 2s infinite;
        }
        
        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }
        
        .upload-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 10px;
        }
        
        .upload-desc {
            opacity: 0.9;
            font-size: 0.9em;
        }
        
        /* Wardrobe Grid */
        .wardrobe-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .wardrobe-item {
            background: var(--white);
            border-radius: 15px;
            overflow: hidden;
            box-shadow: var(--shadow-md);
            cursor: pointer;
            transition: all var(--animation-speed) var(--animation-bounce);
            position: relative;
        }
        
        .wardrobe-item::before {
            content: '';
            position: absolute;
            inset: 0;
            background: var(--gradient-primary);
            opacity: 0;
            transition: opacity var(--animation-speed);
        }
        
        .wardrobe-item:hover::before {
            opacity: 0.1;
        }
        
        .wardrobe-item:hover {
            transform: scale(1.05) rotate(2deg);
            box-shadow: var(--shadow-xl);
        }
        
        .wardrobe-item img {
            width: 100%;
            height: 200px;
            object-fit: cover;
        }
        
        .wardrobe-item-info {
            padding: 12px;
        }
        
        .wardrobe-item-type {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 4px;
        }
        
        .wardrobe-item-meta {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 8px;
        }
        
        .wardrobe-item-color {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            border: 2px solid var(--white);
            box-shadow: var(--shadow-sm);
        }
        
        .wardrobe-item-actions {
            display: flex;
            gap: 8px;
        }
        
        .wardrobe-action-btn {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            border: none;
            background: var(--light);
            color: var(--gray);
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .wardrobe-action-btn:hover {
            background: var(--gradient-primary);
            color: var(--white);
            transform: scale(1.2);
        }
        
        /* Outfit Recommendation Card */
        .outfit-card {
            background: var(--white);
            border-radius: 20px;
            overflow: hidden;
            margin-bottom: 20px;
            box-shadow: var(--shadow-lg);
            animation: slideUp 0.5s var(--animation-bounce);
        }
        
        @keyframes slideUp {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .outfit-header {
            background: var(--gradient-primary);
            padding: 15px 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .outfit-title {
            color: var(--white);
            font-weight: 600;
            font-size: 1.1em;
        }
        
        .outfit-score {
            display: flex;
            align-items: center;
            gap: 8px;
            background: rgba(255, 255, 255, 0.2);
            padding: 6px 12px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
        }
        
        .outfit-score-icon {
            color: #ffd700;
        }
        
        .outfit-score-value {
            color: var(--white);
            font-weight: 600;
        }
        
        .outfit-image {
            width: 100%;
            height: 300px;
            object-fit: cover;
            background: var(--light);
        }
        
        .outfit-items {
            padding: 20px;
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
        }
        
        .outfit-item {
            text-align: center;
            padding: 15px;
            background: var(--light);
            border-radius: 15px;
            transition: all var(--animation-speed) ease;
            cursor: pointer;
        }
        
        .outfit-item:hover {
            background: var(--gradient-primary);
            color: var(--white);
            transform: scale(1.05);
        }
        
        .outfit-item-icon {
            font-size: 2em;
            margin-bottom: 8px;
        }
        
        .outfit-item-name {
            font-size: 0.9em;
            font-weight: 500;
        }
        
        .outfit-actions {
            padding: 20px;
            display: flex;
            gap: 10px;
            border-top: 1px solid var(--light);
        }
        
        .outfit-action-btn {
            flex: 1;
            padding: 12px;
            border: none;
            border-radius: 12px;
            font-weight: 500;
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        
        .outfit-like-btn {
            background: var(--light);
            color: var(--dark);
        }
        
        .outfit-like-btn:hover {
            background: var(--gradient-success);
            color: var(--white);
            transform: scale(1.05);
        }
        
        .outfit-like-btn.liked {
            background: var(--gradient-success);
            color: var(--white);
            animation: likeAnimation 0.5s ease;
        }
        
        @keyframes likeAnimation {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.3) rotate(10deg);
            }
            100% {
                transform: scale(1);
            }
        }
        
        .outfit-share-btn {
            background: var(--gradient-primary);
            color: var(--white);
        }
        
        .outfit-share-btn:hover {
            transform: scale(1.05);
            box-shadow: var(--shadow-lg);
        }
        
        /* Weather Widget */
        .weather-widget {
            background: var(--gradient-cool);
            border-radius: 20px;
            padding: 25px;
            color: var(--white);
            position: relative;
            overflow: hidden;
            margin-bottom: 20px;
        }
        
        .weather-widget::before {
            content: '‚òÅÔ∏è';
            position: absolute;
            font-size: 8em;
            opacity: 0.1;
            top: -20px;
            right: -20px;
            animation: float 10s infinite ease-in-out;
        }
        
        .weather-main {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .weather-temp {
            font-size: 3em;
            font-weight: 700;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }
        
        .weather-icon {
            font-size: 3em;
            animation: weatherPulse 2s infinite;
        }
        
        @keyframes weatherPulse {
            0%, 100% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.1);
            }
        }
        
        .weather-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 15px;
            padding-top: 20px;
            border-top: 1px solid rgba(255,255,255,0.3);
        }
        
        .weather-detail {
            text-align: center;
        }
        
        .weather-detail-value {
            font-size: 1.2em;
            font-weight: 600;
            margin-bottom: 4px;
        }
        
        .weather-detail-label {
            font-size: 0.85em;
            opacity: 0.9;
        }
        
        /* Floating Action Button */
        .fab-container {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
        }
        
        .fab {
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: var(--gradient-primary);
            border: none;
            color: var(--white);
            font-size: 1.5em;
            box-shadow: var(--shadow-xl);
            cursor: pointer;
            transition: all var(--animation-speed) var(--animation-bounce);
            position: relative;
            overflow: hidden;
        }
        
        .fab::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .fab:hover::before {
            width: 100px;
            height: 100px;
        }
        
        .fab:hover {
            transform: scale(1.1) rotate(90deg);
        }
        
        .fab:active {
            transform: scale(0.95);
        }
        
        .fab-menu {
            position: absolute;
            bottom: 70px;
            right: 0;
            display: none;
            flex-direction: column;
            gap: 10px;
            animation: fabMenuSlide 0.3s var(--animation-bounce);
        }
        
        .fab-menu.active {
            display: flex;
        }
        
        @keyframes fabMenuSlide {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        .fab-menu-item {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: var(--white);
            border: none;
            color: var(--primary);
            box-shadow: var(--shadow-lg);
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .fab-menu-item:hover {
            background: var(--gradient-primary);
            color: var(--white);
            transform: scale(1.1);
        }
        
        /* Loading Animation */
        .loading {
            text-align: center;
            padding: 40px;
        }
        
        .loading-spinner {
            width: 60px;
            height: 60px;
            border: 4px solid var(--light);
            border-top: 4px solid var(--primary);
            border-radius: 50%;
            margin: 0 auto 20px;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            color: var(--gray);
            animation: pulse 1.5s infinite;
        }
        
        /* Empty State */
        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: var(--gray);
        }
        
        .empty-icon {
            font-size: 5em;
            margin-bottom: 20px;
            opacity: 0.5;
            animation: sway 3s infinite ease-in-out;
        }
        
        @keyframes sway {
            0%, 100% {
                transform: rotate(-5deg);
            }
            50% {
                transform: rotate(5deg);
            }
        }
        
        .empty-title {
            font-size: 1.3em;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--dark);
        }
        
        .empty-desc {
            font-size: 0.95em;
            line-height: 1.5;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(0,0,0,0.7);
            z-index: 9999;
            align-items: center;
            justify-content: center;
            padding: 20px;
            backdrop-filter: blur(10px);
        }
        
        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }
        
        .modal-content {
            background: var(--white);
            border-radius: 25px;
            max-width: 400px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            animation: modalSlide 0.4s var(--animation-bounce);
        }
        
        @keyframes modalSlide {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(50px);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        .modal-header {
            padding: 25px;
            border-bottom: 1px solid var(--light);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .modal-title {
            font-size: 1.3em;
            font-weight: 600;
            color: var(--dark);
        }
        
        .modal-close {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: var(--light);
            border: none;
            color: var(--gray);
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .modal-close:hover {
            background: var(--danger);
            color: var(--white);
            transform: rotate(90deg);
        }
        
        .modal-body {
            padding: 25px;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--dark);
        }
        
        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid var(--light);
            border-radius: 12px;
            font-size: 1em;
            transition: all var(--animation-speed) ease;
            font-family: inherit;
        }
        
        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }
        
        /* Buttons */
        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 12px;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--animation-speed) ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
        }
        
        .btn::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255,255,255,0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .btn:hover::before {
            width: 300px;
            height: 300px;
        }
        
        .btn-primary {
            background: var(--gradient-primary);
            color: var(--white);
        }
        
        .btn-success {
            background: var(--gradient-success);
            color: var(--white);
        }
        
        .btn-block {
            width: 100%;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        /* Rating Stars */
        .rating {
            display: flex;
            gap: 5px;
            font-size: 1.5em;
        }
        
        .star {
            color: var(--light);
            cursor: pointer;
            transition: all var(--animation-speed) ease;
        }
        
        .star:hover,
        .star.active {
            color: #ffd700;
            transform: scale(1.2);
        }
        
        .star.active {
            animation: starPop 0.3s ease;
        }
        
        @keyframes starPop {
            0% {
                transform: scale(1);
            }
            50% {
                transform: scale(1.5);
            }
            100% {
                transform: scale(1.2);
            }
        }
        
        /* Toast Notification */
        .toast {
            position: fixed;
            bottom: -100px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--dark);
            color: var(--white);
            padding: 15px 25px;
            border-radius: 50px;
            box-shadow: var(--shadow-xl);
            z-index: 10000;
            transition: bottom 0.4s var(--animation-bounce);
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .toast.show {
            bottom: 30px;
        }
        
        .toast-icon {
            font-size: 1.2em;
        }
        
        /* Responsive */
        @media (min-width: 480px) {
            .app-container {
                border-radius: 30px;
                margin: 20px auto;
                min-height: calc(100vh - 40px);
            }
        }
    </style>
</head>
<body>
    <!-- Animated Background -->
    <div class="animated-bg"></div>
    
    <!-- Floating Particles -->
    <div class="particle" style="left: 10%; top: 20%; font-size: 2em;">üëî</div>
    <div class="particle" style="left: 80%; top: 30%; font-size: 1.5em; animation-delay: 5s;">üëó</div>
    <div class="particle" style="left: 50%; top: 60%; font-size: 1.8em; animation-delay: 10s;">üë†</div>
    <div class="particle" style="left: 20%; top: 80%; font-size: 1.3em; animation-delay: 15s;">üëú</div>
    
    <!-- App Container -->
    <div class="app-container">
        <!-- Header -->
        <header class="app-header">
            <div class="header-content">
                <div class="logo-section">
                    <div class="logo">üëî</div>
                    <h1 class="app-title">Style Mate</h1>
                </div>
                <div class="header-actions">
                    <button class="header-btn" onclick="showNotifications()">
                        üîî
                        <span class="notification-badge" style="position: absolute; top: 5px; right: 5px; width: 8px; height: 8px; background: red; border-radius: 50%; display: none;"></span>
                    </button>
                    <button class="header-btn" onclick="showProfile()">
                        üë§
                    </button>
                </div>
            </div>
        </header>
        
        <!-- Navigation -->
        <nav class="nav-container">
            <div class="nav-tabs">
                <button class="nav-tab active" onclick="switchTab('home')">
                    <span class="nav-icon">üè†</span>
                    Ìôà
                </button>
                <button class="nav-tab" onclick="switchTab('closet')">
                    <span class="nav-icon">üëï</span>
                    Ïò∑Ïû•
                </button>
                <button class="nav-tab" onclick="switchTab('outfit')">
                    <span class="nav-icon">‚ú®</span>
                    ÏΩîÎîî
                </button>
                <button class="nav-tab" onclick="switchTab('social')">
                    <span class="nav-icon">üë•</span>
                    ÏÜåÏÖú
                </button>
            </div>
        </nav>
        
        <!-- Content Area -->
        <main class="content">
            <!-- Home Tab -->
            <div id="home" class="tab-content active">
                <!-- Weather Widget -->
                <div class="weather-widget">
                    <div class="weather-main">
                        <div>
                            <div class="weather-temp" id="weatherTemp">22¬∞</div>
                            <div>ÏÑúÏö∏, ÎßëÏùå</div>
                        </div>
                        <div class="weather-icon">‚òÄÔ∏è</div>
                    </div>
                    <div class="weather-details">
                        <div class="weather-detail">
                            <div class="weather-detail-value">18¬∞</div>
                            <div class="weather-detail-label">Ï≤¥Í∞ê</div>
                        </div>
                        <div class="weather-detail">
                            <div class="weather-detail-value">65%</div>
                            <div class="weather-detail-label">ÏäµÎèÑ</div>
                        </div>
                        <div class="weather-detail">
                            <div class="weather-detail-value">12km/h</div>
                            <div class="weather-detail-label">Î∞îÎûå</div>
                        </div>
                    </div>
                </div>
                
                <!-- Quick Actions -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Ïò§ÎäòÏùò Ï∂îÏ≤ú</h2>
                        <span class="card-badge">AI Pick</span>
                    </div>
                    <div class="upload-area" onclick="document.getElementById('photoUpload').click()">
                        <div class="upload-icon">üì∏</div>
                        <div class="upload-title">Ïò§Îäò Î≠ê ÏûÖÏßÄ?</div>
                        <div class="upload-desc">ÏÇ¨ÏßÑÏùÑ Ï∞çÍ±∞ÎÇò ÏÑ†ÌÉùÌï¥ÏÑú AI Î∂ÑÏÑùÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî</div>
                    </div>
                    <input type="file" id="photoUpload" accept="image/*" capture="camera" style="display: none;">
                </div>
                
                <!-- Recent Outfits -->
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ÏµúÍ∑º ÏΩîÎîî</h2>
                        <button class="btn btn-primary" style="padding: 8px 16px; font-size: 0.9em;" onclick="showAllOutfits()">
                            Î™®Îëê Î≥¥Í∏∞
                        </button>
                    </div>
                    <div class="wardrobe-grid">
                        <div class="wardrobe-item">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Crect fill='%23f0f0f0' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-size='40' fill='%23999'%3Eüëî%3C/text%3E%3C/svg%3E" alt="Outfit">
                            <div class="wardrobe-item-info">
                                <div class="wardrobe-item-type">Ï∫êÏ£ºÏñº Î£©</div>
                                <div class="wardrobe-item-meta">
                                    <span style="color: #999; font-size: 0.85em;">Ïñ¥Ï†ú</span>
                                    <div class="wardrobe-item-actions">
                                        <button class="wardrobe-action-btn">‚ù§Ô∏è</button>
                                        <button class="wardrobe-action-btn">üì§</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="wardrobe-item">
                            <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 200 200'%3E%3Crect fill='%23f0f0f0' width='200' height='200'/%3E%3Ctext x='50%25' y='50%25' text-anchor='middle' dy='.3em' font-size='40' fill='%23999'%3Eüëó%3C/text%3E%3C/svg%3E" alt="Outfit">
                            <div class="wardrobe-item-info">
                                <div class="wardrobe-item-type">Ïò§ÌîºÏä§ Î£©</div>
                                <div class="wardrobe-item-meta">
                                    <span style="color: #999; font-size: 0.85em;">2Ïùº Ï†Ñ</span>
                                    <div class="wardrobe-item-actions">
                                        <button class="wardrobe-action-btn">‚ù§Ô∏è</button>
                                        <button class="wardrobe-action-btn">üì§</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Closet Tab -->
            <div id="closet" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">ÎÇ¥ Ïò∑Ïû•</h2>
                        <button class="btn btn-primary" style="padding: 8px 16px; font-size: 0.9em;" onclick="addClothingItem()">
                            + Ï∂îÍ∞Ä
                        </button>
                    </div>
                    <div class="wardrobe-grid" id="wardrobeGrid">
                        <div class="empty-state">
                            <div class="empty-icon">üëï</div>
                            <div class="empty-title">Ïò∑Ïû•Ïù¥ ÎπÑÏñ¥ÏûàÏñ¥Ïöî</div>
                            <div class="empty-desc">ÏÇ¨ÏßÑÏùÑ Ï∂îÍ∞ÄÌï¥ÏÑú ÎÇòÎßåÏùò ÎîîÏßÄÌÑ∏ Ïò∑Ïû•ÏùÑ ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Outfit Tab -->
            <div id="outfit" class="tab-content">
                <div class="card">
                    <div class="form-group">
                        <label class="form-label">Ïò§ÎäòÏùò ÏÉÅÌô©</label>
                        <select class="form-select" id="occasionSelect">
                            <optgroup label="ÏùºÏÉÅ">
                                <option value="casual">Ï∫êÏ£ºÏñº</option>
                                <option value="smart_casual">Ïä§ÎßàÌä∏ Ï∫êÏ£ºÏñº</option>
                                <option value="streetwear">Ïä§Ìä∏Î¶øÏõ®Ïñ¥</option>
                            </optgroup>
                            <optgroup label="ÎπÑÏ¶àÎãàÏä§">
                                <option value="business">ÎπÑÏ¶àÎãàÏä§</option>
                                <option value="formal">Ìè¨Î©Ä</option>
                            </optgroup>
                            <optgroup label="ÌäπÎ≥ÑÌïú ÎÇ†">
                                <option value="date">Îç∞Ïù¥Ìä∏</option>
                                <option value="party">ÌååÌã∞</option>
                            </optgroup>
                        </select>
                    </div>
                    <button class="btn btn-primary btn-block" onclick="getAIRecommendation()">
                        ‚ú® AI ÏΩîÎîî Ï∂îÏ≤úÎ∞õÍ∏∞
                    </button>
                </div>
                
                <div id="recommendationResults"></div>
            </div>
            
            <!-- Social Tab -->
            <div id="social" class="tab-content">
                <div class="card">
                    <div class="card-header">
                        <h2 class="card-title">Ïò§ÎäòÏùò Ìä∏Î†åÎìú</h2>
                        <span class="card-badge">üî• Hot</span>
                    </div>
                    <div id="trendFeed">
                        <div class="empty-state">
                            <div class="empty-icon">üë•</div>
                            <div class="empty-title">Í≥ß Ïò§Ìîà ÏòàÏ†ï!</div>
                            <div class="empty-desc">Îã§Î•∏ ÏÇ¨Ïö©ÏûêÎì§Í≥º Ïä§ÌÉÄÏùºÏùÑ Í≥µÏú†ÌïòÍ≥† ÏòÅÍ∞êÏùÑ Î∞õÏïÑÎ≥¥ÏÑ∏Ïöî</div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
        
        <!-- FAB -->
        <div class="fab-container">
            <div class="fab-menu" id="fabMenu">
                <button class="fab-menu-item" onclick="quickCamera()">üì∏</button>
                <button class="fab-menu-item" onclick="quickOutfit()">üëî</button>
                <button class="fab-menu-item" onclick="quickShare()">üì§</button>
            </div>
            <button class="fab" onclick="toggleFabMenu()">
                <span id="fabIcon">+</span>
            </button>
        </div>
    </div>
    
    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title" id="modalTitle">Ï†úÎ™©</h2>
                <button class="modal-close" onclick="closeModal()">√ó</button>
            </div>
            <div class="modal-body" id="modalBody">
                ÎÇ¥Ïö©
            </div>
        </div>
    </div>
    
    <!-- Toast -->
    <div class="toast" id="toast">
        <span class="toast-icon">‚úÖ</span>
        <span id="toastMessage">Î©îÏãúÏßÄ</span>
    </div>
    
    <script>
        // API Configuration
        const API_URL = 'https://money-production-452c.up.railway.app';
        
        // App State
        let currentTab = 'home';
        let fabMenuOpen = false;
        let wardrobeItems = [];
        let likedOutfits = [];
        let userPreferences = {
            style: [],
            colors: [],
            brands: []
        };
        
        // Initialize
        document.addEventListener('DOMContentLoaded', () => {
            loadUserData();
            loadWeather();
            initializeEventListeners();
            addAnimations();
        });
        
        // Tab Switching
        function switchTab(tabName) {
            // Update tabs
            document.querySelectorAll('.tab-content').forEach(tab => {
                tab.classList.remove('active');
            });
            document.querySelectorAll('.nav-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Activate selected tab
            document.getElementById(tabName).classList.add('active');
            event.target.classList.add('active');
            
            currentTab = tabName;
            
            // Tab-specific actions
            if (tabName === 'closet') {
                loadWardrobe();
            } else if (tabName === 'social') {
                loadSocialFeed();
            }
        }
        
        // Photo Upload Handler
        function initializeEventListeners() {
            const photoUpload = document.getElementById('photoUpload');
            photoUpload.addEventListener('change', handlePhotoUpload);
        }
        
        async function handlePhotoUpload(event) {
            const file = event.target.files[0];
            if (!file) return;
            
            showToast('üì∏ ÏÇ¨ÏßÑ Î∂ÑÏÑù Ï§ë...', 'info');
            
            const formData = new FormData();
            formData.append('file', file);
            
            try {
                const response = await fetch(`${API_URL}/api/analyze`, {
                    method: 'POST',
                    body: formData
                });
                
                const data = await response.json();
                displayAnalysisResult(data);
                saveToWardrobe(file, data);
                showToast('‚úÖ Î∂ÑÏÑù ÏôÑÎ£å!', 'success');
            } catch (error) {
                showToast('‚ùå Î∂ÑÏÑù Ïã§Ìå®. Îã§Ïãú ÏãúÎèÑÌï¥Ï£ºÏÑ∏Ïöî.', 'error');
            }
        }
        
        // Display Analysis Result
        function displayAnalysisResult(data) {
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'üì∏ AI Î∂ÑÏÑù Í≤∞Í≥º';
            
            let html = `
                <div style="margin-bottom: 20px;">
                    <h3 style="margin-bottom: 15px;">Î∞úÍ≤¨Îêú ÏïÑÏù¥ÌÖú</h3>
            `;
            
            if (data.items && data.items.length > 0) {
                data.items.forEach(item => {
                    html += `
                        <div style="padding: 15px; background: var(--light); border-radius: 12px; margin-bottom: 10px;">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div>
                                    <div style="font-weight: 600;">${item.subcategory || item.category}</div>
                                    <div style="color: var(--gray); font-size: 0.9em;">
                                        ÏÉâÏÉÅ: ${item.color?.primary || 'Î∂ÑÏÑùÏ§ë'} | 
                                        Ïä§ÌÉÄÏùº: ${item.style || 'Ï∫êÏ£ºÏñº'}
                                    </div>
                                </div>
                                <div style="background: var(--gradient-primary); color: white; padding: 6px 12px; border-radius: 20px; font-size: 0.85em;">
                                    ${(item.confidence * 100).toFixed(0)}%
                                </div>
                            </div>
                        </div>
                    `;
                });
            }
            
            if (data.overall_style) {
                html += `
                    <h3 style="margin: 20px 0 15px;">Ïä§ÌÉÄÏùº ÌèâÍ∞Ä</h3>
                    <div style="padding: 15px; background: var(--gradient-primary); color: white; border-radius: 12px;">
                        <div style="font-weight: 600; margin-bottom: 8px;">
                            ${data.overall_style.primary_style}
                        </div>
                        <div style="opacity: 0.9; font-size: 0.9em;">
                            ${data.overall_style.description}
                        </div>
                        <div style="margin-top: 10px; padding-top: 10px; border-top: 1px solid rgba(255,255,255,0.3);">
                            ÏùºÍ¥ÄÏÑ±: ${data.overall_style.consistency_score.toFixed(0)}%
                        </div>
                    </div>
                `;
            }
            
            html += `
                </div>
                <button class="btn btn-primary btn-block" onclick="getInstantRecommendation()">
                    Ïù¥ Ïò∑ÏúºÎ°ú ÏΩîÎîî Ï∂îÏ≤úÎ∞õÍ∏∞
                </button>
            `;
            
            modalBody.innerHTML = html;
            showModal();
        }
        
        // Get AI Recommendation
        async function getAIRecommendation() {
            const occasion = document.getElementById('occasionSelect').value;
            const resultsDiv = document.getElementById('recommendationResults');
            
            resultsDiv.innerHTML = `
                <div class="loading">
                    <div class="loading-spinner"></div>
                    <div class="loading-text">AIÍ∞Ä ÏôÑÎ≤ΩÌïú ÏΩîÎîîÎ•º Ï§ÄÎπÑÌïòÍ≥† ÏûàÏñ¥Ïöî...</div>
                </div>
            `;
            
            try {
                const response = await fetch(`${API_URL}/api/coordinate`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify({
                        user_id: 'user_' + Date.now(),
                        occasion: occasion,
                        generate_image: true,
                        user_preferences: userPreferences
                    })
                });
                
                const data = await response.json();
                displayRecommendations(data.recommendations);
            } catch (error) {
                resultsDiv.innerHTML = `
                    <div class="card" style="text-align: center; color: var(--danger);">
                        <p>Ï∂îÏ≤úÏùÑ Í∞ÄÏ†∏Ïò¨ Ïàò ÏóÜÏäµÎãàÎã§.</p>
                        <button class="btn btn-primary" onclick="getAIRecommendation()">Îã§Ïãú ÏãúÎèÑ</button>
                    </div>
                `;
            }
        }
        
        // Display Recommendations
        function displayRecommendations(recommendations) {
            const resultsDiv = document.getElementById('recommendationResults');
            let html = '';
            
            recommendations.forEach((rec, index) => {
                const outfitId = 'outfit_' + Date.now() + '_' + index;
                
                html += `
                    <div class="outfit-card">
                        <div class="outfit-header">
                            <div class="outfit-title">Ï∂îÏ≤ú ${rec.ranking}</div>
                            <div class="outfit-score">
                                <span class="outfit-score-icon">‚≠ê</span>
                                <span class="outfit-score-value">${rec.confidence}%</span>
                            </div>
                        </div>
                        ${rec.outfit_image ? `
                            <img src="${rec.outfit_image}" alt="Outfit" class="outfit-image">
                        ` : `
                            <div class="outfit-image" style="display: flex; align-items: center; justify-content: center; font-size: 5em; background: var(--light);">
                                üëî
                            </div>
                        `}
                        <div class="outfit-items">
                            <div class="outfit-item">
                                <div class="outfit-item-icon">üëî</div>
                                <div class="outfit-item-name">${rec.outfit.top?.type || 'ÏÉÅÏùò'}</div>
                            </div>
                            <div class="outfit-item">
                                <div class="outfit-item-icon">üëñ</div>
                                <div class="outfit-item-name">${rec.outfit.bottom?.type || 'ÌïòÏùò'}</div>
                            </div>
                            <div class="outfit-item">
                                <div class="outfit-item-icon">üëü</div>
                                <div class="outfit-item-name">${rec.outfit.shoes?.type || 'Ïã†Î∞ú'}</div>
                            </div>
                        </div>
                        <div style="padding: 0 20px 20px;">
                            <div style="background: var(--light); border-radius: 12px; padding: 15px;">
                                <div style="font-weight: 600; margin-bottom: 10px; color: var(--primary);">
                                    üí° Ïä§ÌÉÄÏùºÎßÅ ÌåÅ
                                </div>
                                ${rec.styling_tips.map(tip => `
                                    <div style="margin-bottom: 5px; color: var(--gray); font-size: 0.9em;">
                                        ‚Ä¢ ${tip}
                                    </div>
                                `).join('')}
                            </div>
                        </div>
                        <div class="outfit-actions">
                            <button class="outfit-like-btn ${likedOutfits.includes(outfitId) ? 'liked' : ''}" 
                                    onclick="toggleLike('${outfitId}', this)">
                                <span>${likedOutfits.includes(outfitId) ? '‚ù§Ô∏è' : 'ü§ç'}</span>
                                <span>Ï¢ãÏïÑÏöî</span>
                            </button>
                            <button class="outfit-share-btn" onclick="shareOutfit('${outfitId}')">
                                <span>üì§</span>
                                <span>Í≥µÏú†ÌïòÍ∏∞</span>
                            </button>
                        </div>
                    </div>
                `;
            });
            
            resultsDiv.innerHTML = html;
        }
        
        // Toggle Like
        function toggleLike(outfitId, button) {
            const index = likedOutfits.indexOf(outfitId);
            
            if (index === -1) {
                likedOutfits.push(outfitId);
                button.classList.add('liked');
                button.querySelector('span:first-child').textContent = '‚ù§Ô∏è';
                showToast('‚ù§Ô∏è Ï¢ãÏïÑÏöî!', 'success');
                
                // Learn user preference
                learnUserPreference('like', outfitId);
            } else {
                likedOutfits.splice(index, 1);
                button.classList.remove('liked');
                button.querySelector('span:first-child').textContent = 'ü§ç';
            }
            
            saveUserData();
        }
        
        // Share Outfit
        function shareOutfit(outfitId) {
            if (navigator.share) {
                navigator.share({
                    title: 'Style Mate ÏΩîÎîî Ï∂îÏ≤ú',
                    text: 'AIÍ∞Ä Ï∂îÏ≤úÌïú Ïò§ÎäòÏùò ÏΩîÎîîÎ•º ÌôïÏù∏Ìï¥Î≥¥ÏÑ∏Ïöî!',
                    url: window.location.href
                }).then(() => {
                    showToast('üì§ Í≥µÏú† ÏôÑÎ£å!', 'success');
                }).catch(() => {});
            } else {
                // Fallback
                navigator.clipboard.writeText(window.location.href);
                showToast('üìã ÎßÅÌÅ¨Í∞Ä Î≥µÏÇ¨ÎêòÏóàÏäµÎãàÎã§!', 'success');
            }
        }
        
        // Learn User Preference
        function learnUserPreference(action, data) {
            // Simple preference learning
            if (action === 'like') {
                // Update preferences based on liked outfits
                console.log('Learning from user preference:', data);
            }
            
            saveUserData();
        }
        
        // Load Weather
        async function loadWeather() {
            try {
                const response = await fetch(`${API_URL}/api/weather/Seoul`);
                const data = await response.json();
                
                document.getElementById('weatherTemp').textContent = `${data.temperature}¬∞`;
                // Update other weather elements...
            } catch (error) {
                console.error('Weather error:', error);
            }
        }
        
        // Load Wardrobe
        function loadWardrobe() {
            const grid = document.getElementById('wardrobeGrid');
            
            if (wardrobeItems.length === 0) {
                grid.innerHTML = `
                    <div class="empty-state" style="grid-column: 1/-1;">
                        <div class="empty-icon">üëï</div>
                        <div class="empty-title">Ïò∑Ïû•Ïù¥ ÎπÑÏñ¥ÏûàÏñ¥Ïöî</div>
                        <div class="empty-desc">ÏÇ¨ÏßÑÏùÑ Ï∂îÍ∞ÄÌï¥ÏÑú ÎÇòÎßåÏùò ÎîîÏßÄÌÑ∏ Ïò∑Ïû•ÏùÑ ÎßåÎì§Ïñ¥Î≥¥ÏÑ∏Ïöî</div>
                    </div>
                `;
            } else {
                grid.innerHTML = wardrobeItems.map((item, index) => `
                    <div class="wardrobe-item" onclick="showItemDetails(${index})">
                        <img src="${item.image}" alt="${item.category}">
                        <div class="wardrobe-item-info">
                            <div class="wardrobe-item-type">${item.category}</div>
                            <div class="wardrobe-item-meta">
                                <span class="wardrobe-item-color" style="background: ${item.color || '#999'};"></span>
                                <div class="wardrobe-item-actions">
                                    <button class="wardrobe-action-btn" onclick="event.stopPropagation(); deleteItem(${index})">üóëÔ∏è</button>
                                </div>
                            </div>
                        </div>
                    </div>
                `).join('');
            }
        }
        
        // Save to Wardrobe
        function saveToWardrobe(file, analysisData) {
            const reader = new FileReader();
            reader.onload = function(e) {
                const item = {
                    id: Date.now(),
                    image: e.target.result,
                    category: analysisData.items?.[0]?.category || 'unknown',
                    color: analysisData.items?.[0]?.color?.primary || null,
                    style: analysisData.items?.[0]?.style || 'casual',
                    date: new Date().toISOString(),
                    wearCount: 0
                };
                
                wardrobeItems.push(item);
                saveUserData();
                
                if (currentTab === 'closet') {
                    loadWardrobe();
                }
            };
            reader.readAsDataURL(file);
        }
        
        // Delete Item
        function deleteItem(index) {
            if (confirm('Ïù¥ ÏïÑÏù¥ÌÖúÏùÑ ÏÇ≠Ï†úÌïòÏãúÍ≤†ÏäµÎãàÍπå?')) {
                wardrobeItems.splice(index, 1);
                saveUserData();
                loadWardrobe();
                showToast('üóëÔ∏è ÏÇ≠Ï†úÎêòÏóàÏäµÎãàÎã§', 'info');
            }
        }
        
        // FAB Menu
        function toggleFabMenu() {
            const fabMenu = document.getElementById('fabMenu');
            const fabIcon = document.getElementById('fabIcon');
            
            fabMenuOpen = !fabMenuOpen;
            
            if (fabMenuOpen) {
                fabMenu.classList.add('active');
                fabIcon.textContent = '√ó';
            } else {
                fabMenu.classList.remove('active');
                fabIcon.textContent = '+';
            }
        }
        
        // Quick Actions
        function quickCamera() {
            toggleFabMenu();
            document.getElementById('photoUpload').click();
        }
        
        function quickOutfit() {
            toggleFabMenu();
            switchTab('outfit');
            document.querySelector('.nav-tab:nth-child(3)').click();
        }
        
        function quickShare() {
            toggleFabMenu();
            shareOutfit('latest');
        }
        
        // Modal Functions
        function showModal() {
            document.getElementById('modal').classList.add('active');
        }
        
        function closeModal() {
            document.getElementById('modal').classList.remove('active');
        }
        
        // Toast Notification
        function showToast(message, type = 'info') {
            const toast = document.getElementById('toast');
            const toastMessage = document.getElementById('toastMessage');
            
            toastMessage.textContent = message;
            toast.classList.add('show');
            
            setTimeout(() => {
                toast.classList.remove('show');
            }, 3000);
        }
        
        // User Data Management
        function saveUserData() {
            localStorage.setItem('wardrobeItems', JSON.stringify(wardrobeItems));
            localStorage.setItem('likedOutfits', JSON.stringify(likedOutfits));
            localStorage.setItem('userPreferences', JSON.stringify(userPreferences));
        }
        
        function loadUserData() {
            wardrobeItems = JSON.parse(localStorage.getItem('wardrobeItems') || '[]');
            likedOutfits = JSON.parse(localStorage.getItem('likedOutfits') || '[]');
            userPreferences = JSON.parse(localStorage.getItem('userPreferences') || '{"style":[],"colors":[],"brands":[]}');
        }
        
        // Add Clothing Item
        function addClothingItem() {
            document.getElementById('photoUpload').click();
        }
        
        // Show Item Details
        function showItemDetails(index) {
            const item = wardrobeItems[index];
            
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'ÏïÑÏù¥ÌÖú ÏÉÅÏÑ∏';
            modalBody.innerHTML = `
                <div style="text-align: center;">
                    <img src="${item.image}" style="width: 100%; max-width: 300px; border-radius: 12px; margin-bottom: 20px;">
                    <div style="margin-bottom: 15px;">
                        <div style="font-weight: 600; font-size: 1.2em; margin-bottom: 5px;">
                            ${item.category}
                        </div>
                        <div style="color: var(--gray);">
                            Ïä§ÌÉÄÏùº: ${item.style}
                        </div>
                    </div>
                    <div style="display: flex; justify-content: space-around; padding: 20px; background: var(--light); border-radius: 12px;">
                        <div>
                            <div style="font-size: 1.5em; font-weight: 600; color: var(--primary);">
                                ${item.wearCount || 0}
                            </div>
                            <div style="color: var(--gray); font-size: 0.9em;">Ï∞©Ïö© ÌöüÏàò</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5em; font-weight: 600; color: var(--primary);">
                                ${item.color || '‚Äî'}
                            </div>
                            <div style="color: var(--gray); font-size: 0.9em;">ÏÉâÏÉÅ</div>
                        </div>
                    </div>
                    <button class="btn btn-primary btn-block" style="margin-top: 20px;" onclick="createOutfitWithItem(${index})">
                        Ïù¥ Ïò∑ÏúºÎ°ú ÏΩîÎîî ÎßåÎì§Í∏∞
                    </button>
                </div>
            `;
            
            showModal();
        }
        
        // Create Outfit with Item
        function createOutfitWithItem(index) {
            closeModal();
            switchTab('outfit');
            document.querySelector('.nav-tab:nth-child(3)').click();
            getAIRecommendation();
        }
        
        // Load Social Feed
        function loadSocialFeed() {
            // Placeholder for social feed
            console.log('Loading social feed...');
        }
        
        // Show Notifications
        function showNotifications() {
            showToast('üîî ÏïåÎ¶ºÏù¥ ÏóÜÏäµÎãàÎã§', 'info');
        }
        
        // Show Profile
        function showProfile() {
            const modalTitle = document.getElementById('modalTitle');
            const modalBody = document.getElementById('modalBody');
            
            modalTitle.textContent = 'ÎÇ¥ ÌîÑÎ°úÌïÑ';
            modalBody.innerHTML = `
                <div style="text-align: center;">
                    <div style="width: 80px; height: 80px; background: var(--gradient-primary); border-radius: 50%; margin: 0 auto 20px; display: flex; align-items: center; justify-content: center; font-size: 2em; color: white;">
                        üë§
                    </div>
                    <h3>Style Mate User</h3>
                    <p style="color: var(--gray); margin: 10px 0;">Î≤†ÌÉÄ ÌÖåÏä§ÌÑ∞</p>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 30px 0; text-align: center;">
                        <div>
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--primary);">
                                ${wardrobeItems.length}
                            </div>
                            <div style="color: var(--gray); font-size: 0.9em;">ÏïÑÏù¥ÌÖú</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--primary);">
                                ${likedOutfits.length}
                            </div>
                            <div style="color: var(--gray); font-size: 0.9em;">Ï¢ãÏïÑÏöî</div>
                        </div>
                        <div>
                            <div style="font-size: 1.5em; font-weight: bold; color: var(--primary);">
                                7
                            </div>
                            <div style="color: var(--gray); font-size: 0.9em;">Ïùº Ïó∞ÏÜç</div>
                        </div>
                    </div>
                    
                    <button class="btn btn-primary btn-block" onclick="closeModal()">
                        ÌôïÏù∏
                    </button>
                </div>
            `;
            
            showModal();
        }
        
        // Add Animations
        function addAnimations() {
            // Add intersection observer for scroll animations
            const observer = new IntersectionObserver(
                (entries) => {
                    entries.forEach(entry => {
                        if (entry.isIntersecting) {
                            entry.target.style.animation = 'slideUp 0.5s ease forwards';
                        }
                    });
                },
                { threshold: 0.1 }
            );
            
            document.querySelectorAll('.card').forEach(card => {
                observer.observe(card);
            });
        }
        
        // Service Worker Registration
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js').catch(err => {
                console.log('Service worker registration failed:', err);
            });
        }
    </script>
</body>
</html>